!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="c30d589d-c408-464a-8303-374a6ea27f72",e._sentryDebugIdIdentifier="sentry-dbid-c30d589d-c408-464a-8303-374a6ea27f72")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2910],{37330:function(e,t,s){s.d(t,{Cn:function(){return Q},_I:function(){return er},LA:function(){return en}});var r=s(2899),n=s(4694);let a=e=>{var t;let s=-1;(null!==(t=e.match(/\*\*/g))&&void 0!==t?t:[]).length%2==1&&(s=e.lastIndexOf("**"));let r=-1,n=e.lastIndexOf("\\[");n>e.lastIndexOf("]")&&(r=n);let a=-1,l=e.lastIndexOf("\\(");l>e.lastIndexOf("\\)")&&(a=l);let i=-1,o=e.lastIndexOf("<x");o>e.lastIndexOf(">")&&(i=o);let c=-1,d=e.lastIndexOf("\n"),u=e.substring(d).trim();(u.startsWith("-")||0===u.length)&&(c=d);let m=-1;/^\d+\.?/.test(u)&&(m=d);let x=-1===i?100:300,h=[s,r,a,i,c,m].filter(t=>-1!==t&&t>e.length-x);return 0===h.length?e.length-1:Math.min(...h)};var l=s(72242),i=s(98450),o=s(30722),c=s.n(o),d=s(56672),u=s(70702),m=s(81556),x=s(6087),h=s(34116);let p=["www.archives.gov"],f=[".pdf"];var g=s(59578),b=s(71636);let v=e=>{let t=[],s=e.replace(/(```[\s\S]*?```|```[\s\S]*|`[^`\n]+`)/g,e=>(t.push(e),"<<CODE_BLOCK_".concat(t.length-1,">>")));return{codeBlocks:t,processedContent:s}};function j(e){return e.replace(/\\text\{([^}]*)\}/g,(e,t)=>{let s=t.replace(RegExp("(?<!\\\\)([_^&%#])","g"),"\\$1");return"\\text{".concat(s,"}")})}let w=e=>{let t=e.replace(/\\begin\{equation\}([\s\S]*?)\\end\{equation\}/g,(e,t)=>"\\[ ".concat(t," \\]"));t=(t=t.replace(/\\\[\s*\\boxed\{.*\}\s*\\\]/g,e=>e+"\n")).replace(/\$\$([\s\S]*?)\$\$/g,(e,t)=>"\\[ ".concat(t," \\]"));let s=[];return t=t.replace(/(\\\[)([\s\S]*?)\\\]|\\\(([\s\S]*?)\\\)/g,(e,t,r,n)=>t?(s.push(j(r)),"<<LATEX_BLOCK_".concat(s.length-1,">>")):void 0!==n?(s.push(j(n)),"<<LATEX_BLOCK_".concat(s.length-1,">>")):e),{latexBlockExpressions:s,processedContent:t}},y=e=>{let{content:t,latexBlockExpressions:s,codeBlocks:r}=e;return t.replace(/<<LATEX_BLOCK_(\d+)>>/g,(e,t)=>"$$ ".concat(s[parseInt(t,10)]||""," $$")).replace(/<<CODE_BLOCK_(\d+)>>/g,(e,t)=>r[parseInt(t,10)]||"")};var N=s(74542),k=s(43701);s(18564);var C=s(38912),S=s(87391),I=s(842),z=s(63302),R=s(6060),E=s(11346),P=s(73069),_=s(3667),T=s(40881),O=s(66761),M=s(41543),L=s(59151),F=s(34405),A=s(67576),Z=s(47004),D=s(84142),U=s(69492),$=s(82095);let G=[];function K(){let e=this.data();e.micromarkExtensions=[{...e.micromarkExtensions||[]},{disable:{null:["codeIndented"]}}]}let V=()=>e=>{(0,D.Vn)(e,"list",e=>{e.spread=!1})},W=()=>e=>{(0,D.Vn)(e,"element",e=>{"span"===e.tagName&&e.properties&&e.properties.className&&"string"==typeof e.properties.className&&e.properties.className.includes("katex-error")&&(e.tagName="span",e.properties={},e.children&&e.children[0]&&"text"===e.children[0].type&&(e.children=[{type:"text",value:e.children[0].value}]))})},B=(0,n.memo)(O.U,(e,t)=>e.children===t.children),q=(0,n.createContext)({isNested:!1,sender:""});function X(e){if(null==e)return null;let t=n.Children.toArray(e),s=0,a=[];for(let e of t)if("string"==typeof e)for(let t of e.split(/(\s+)/))""!==t&&(""===t.trim()?a.push((0,r.jsx)("span",{children:t},"space-".concat(s++))):a.push((0,r.jsx)("span",{className:"animate-gaussian",children:t},"word-".concat(s++))));else n.isValidElement(e)?a.push(n.cloneElement(e,{key:"element-".concat(s++),className:(0,l.cn)(e.props.className,"animate-gaussian")})):a.push((0,r.jsx)("span",{className:"animate-gaussian",children:String(e)},"other-".concat(s++)));return a}let H={p(e){let{className:t,children:s,node:n,...a}=e;return(0,r.jsx)("p",{dir:"auto",style:{whiteSpace:"pre-wrap"},className:(0,l.cn)("break-words",t),...a,children:s})},h1(e){let{className:t,children:s,node:n,...a}=e;return(0,r.jsx)("h1",{dir:"auto",className:(0,l.cn)(t),...a,children:s})},h2(e){let{className:t,children:s,node:n,...a}=e;return(0,r.jsx)("h2",{dir:"auto",className:(0,l.cn)(t),...a,children:s})},h3(e){let{className:t,children:s,node:n,...a}=e;return(0,r.jsx)("h3",{dir:"auto",className:(0,l.cn)(t),...a,children:s})},h4(e){let{className:t,children:s,node:n,...a}=e;return(0,r.jsx)("h4",{dir:"auto",className:(0,l.cn)(t),...a,children:s})},h5(e){let{className:t,children:s,node:n,...a}=e;return(0,r.jsx)("h5",{dir:"auto",className:(0,l.cn)(t),...a,children:s})},h6(e){let{className:t,children:s,node:n,...a}=e;return(0,r.jsx)("h6",{dir:"auto",className:(0,l.cn)(t),...a,children:s})},ul(e){let{className:t,children:s,node:n,...a}=e;return(0,r.jsx)("ul",{dir:"auto",className:(0,l.cn)("marker:text-secondary",t),...a,children:s})},ol(e){let{className:t,children:s,node:n,...a}=e;return(0,r.jsx)("ol",{dir:"auto",className:(0,l.cn)("marker:text-secondary",t),...a,children:s})},li(e){let{className:t,children:s,node:n,...a}=e;return(0,r.jsx)("li",{className:(0,l.cn)("break-words",t),...a,children:s})},pre(e){let{children:t,node:s,...n}=e;return(0,r.jsx)("div",{dir:"auto",className:"not-prose",children:t})},table(e){let{children:t,node:s,...n}=e;return(0,r.jsx)("div",{dir:"auto",className:"overflow-x-auto my-2",children:(0,r.jsx)("table",{dir:"auto",...n,children:t})})},thead(e){let{children:t,node:s,...n}=e;return(0,r.jsx)("thead",{className:"border-b border-primary/20",...n,children:t})},tr(e){let{children:t,node:s,...n}=e;return(0,r.jsx)("tr",{className:"border-primary/10",...n,children:t})},th(e){let{children:t,node:s,...n}=e;return(0,r.jsx)("th",{className:"break-words",...n,children:t})},td(e){let{children:t,node:s,...n}=e;return(0,r.jsx)("td",{style:{whiteSpace:"pre-wrap"},className:"break-words",...n,children:t})},blockquote(e){let{children:t,node:s,...n}=e;return(0,r.jsx)("blockquote",{dir:"auto",className:"border-primary/20",...n,children:t})},hr(e){let{children:t,node:s,...n}=e;return(0,r.jsx)("hr",{...n})},code(e){let{node:t,className:s,children:a,...o}=e,{t:c}=(0,u.$G)("base"),{resolvedTheme:m}=(0,T.F)(),{isNested:p,sender:f}=(0,n.useContext)(q),b=(0,k.F)(e=>e.userSettings.preferences.autoWrapLongLinesCode),v=(0,U.gK)(d.Z("setSidePanelContent")),j=/language-(\w+)/.exec(s||""),w=j?j[1]:"text",y=/\n$/.test(String(a)),[O,F]=(0,n.useState)(!0),[A,Z]=(0,n.useState)(b),D=(0,n.useCallback)(()=>Z(e=>!e),[]),[G,K]=(0,n.useState)(!1),V=(0,n.useCallback)(()=>K(e=>!e),[]),[W,B]=(0,n.useState)(!1),X=(0,n.useCallback)(()=>{if(""===a.trim())return;let e=a;e=e.replace(/(\n)$/,""),navigator.clipboard.writeText(e).then(()=>{B(!0),setTimeout(()=>B(!1),2e3)}).catch(e=>{(0,N.H)("chat-markdown",e)})},[a]),H=String(a),Y=(0,n.useRef)(null),[Q,J,ee,et]=(0,g.y)(H,w),es=(0,n.useCallback)(()=>{setTimeout(()=>{var e;null===(e=Y.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center"})},0),Q()},[Q,Y]),er=(0,n.useCallback)(()=>F(e=>!e),[F]),en=(0,n.useCallback)(()=>F(!1),[F]),ea=(0,n.useCallback)(()=>F(!0),[F]),el="ontouchstart"in window||navigator.maxTouchPoints>0,ei=(0,n.useMemo)(()=>{if("html"!==w)return!1;try{return!!new DOMParser().parseFromString(H,"text/html").querySelector("html")&&H.includes("<html")}catch(e){return!1}},[w,H]),eo=(0,n.useMemo)(()=>H.split("\n").length-1,[H]);return y?(0,r.jsxs)("div",{className:(0,l.cn)("relative [&_div+div]:!mt-0 mt-3 mb-3",!p&&"-mx-4","human"===f&&"-mx-0 mt-2 mb-2 min-w-52 dark:border-0 border rounded-xl","-mr-2 @md:-mr-4"),children:[(0,r.jsx)("div",{onMouseEnter:en,onMouseLeave:ea,className:"flex flex-row px-4 py-2 h-10 items-center rounded-t-xl bg-surface-l2 border border-border-l1",children:(0,r.jsx)("span",{className:"font-mono text-xs",children:w})}),(0,r.jsx)("div",{onMouseEnter:en,onMouseLeave:ea,className:"sticky w-full right-2 z-10 ".concat(p?"top-40":"@[1280px]/mainview:z-40 @[1280px]/mainview:top-10 top-24 @[0px]/preview:top-5"),children:(0,r.jsxs)("div",{className:"absolute bottom-1 right-1 flex flex-row gap-0.5",children:[(0,r.jsx)(P.M,{children:!O&&(0,r.jsxs)(_.E.div,{className:"flex flex-row gap-0.5",animate:"visible",initial:"hidden",variants:{hidden:{opacity:0},visible:{opacity:1}},transition:{duration:.1,ease:"easeInOut"},children:[ei&&(0,r.jsxs)(h.zx,{onClick:()=>{v({type:"htmlPreview",data:H})},variant:"sticky",size:"sm",className:"@[0px]/preview:hidden",children:[(0,r.jsx)(C.Z,{className:"size-4"}),(0,r.jsx)("span",{className:"hidden @sm:block",children:c("Preview","Preview")})]}),(0,r.jsx)(h.zx,{variant:"sticky",size:"sm",onClick:V,children:G?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(S.Z,{className:"size-4"}),(0,r.jsx)("span",{className:"hidden @sm:block",children:c("Expand","Expand")})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(I.Z,{className:"size-4"}),(0,r.jsx)("span",{className:"hidden @sm:block",children:c("Collapse","Collapse")})]})}),(0,r.jsx)(h.zx,{onClick:D,variant:"sticky",size:"sm",children:A?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(z.Z,{className:"size-4"}),(0,r.jsx)("span",{className:"hidden @sm:block",children:c("Unwrap","Unwrap")})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(R.Z,{className:"size-4"}),(0,r.jsx)("span",{className:"hidden @sm:block",children:c("Wrap","Wrap")})]})}),et()&&(0,r.jsx)(h.zx,{onClick:es,variant:"sticky",size:"sm",disabled:ee,children:ee?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.nQG,{className:"size-4"}),(0,r.jsx)("span",{className:"hidden @sm:block",children:c("code-execution.running","Running")})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(E.Z,{className:"size-4"}),(0,r.jsx)("span",{className:"hidden @sm:block",children:c("code-execution.run","Run")})]})})]})}),O&&(0,r.jsx)(h.g$,{onClick:er,variant:"sticky",size:"sm",tooltipContent:c("codeblock.more","Options"),tooltipContentProps:{side:"bottom"},asChild:!0,disabled:!el,children:(0,r.jsx)("div",{children:(0,r.jsx)(i.nWS,{className:"size-4"})})}),(0,r.jsx)(h.zx,{onClick:X,variant:"sticky",size:"sm",disabled:W,children:W?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.nQG,{className:"size-4"}),(0,r.jsx)("span",{className:"hidden @sm:block",children:c("Copied","Copied")})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.TI,{className:"size-4"}),(0,r.jsx)("span",{className:"hidden @sm:block",children:c("Copy","Copy")})]})})]})}),(0,r.jsx)(M.Z,{style:"dark"===m?L.FE:L.lf,customStyle:{borderRadius:"0px 0px 12px 12px",border:"1px solid var(--border-l1)",borderTop:"none",padding:16,marginTop:0,borderColor:"none",fontSize:".9em",fontFamily:"var(--font-ibm-plex-mono)",lineHeight:"1.5em",background:"dark"===m?"var(--surface-inset)":"var(--surface-l1)",color:"var(--fg-primary)",display:G?"none":"block"},codeTagProps:{style:{lineHeight:"inherit",fontSize:"inherit"}},wrapLongLines:A,PreTag:"div",language:w,...o,children:H.replace(/\n$/,"")}),(0,r.jsx)("div",{ref:Y}),G&&(0,r.jsx)("div",{className:(0,l.cn)("dark"===m?"bg-surface-inset":"bg-surface-l1","text-fg-secondary","text-[.9em] leading-[1.5em]","rounded-b-[12px] p-[16px]","italic","border border-border-l1 border-t-0"),children:c("lines",{count:eo,defaultValue_one:"{{count}} hidden line",defaultValue_other:"{{count}} hidden lines"})}),(0,r.jsx)($.Y,{className:"pt-2",runCodeResult:J,isRunningCode:ee})]}):(0,r.jsx)("span",{className:(0,l.cn)("text-sm px-1 rounded-sm !font-mono","bg-orange-400/10 text-orange-500 dark:bg-orange-300/10 dark:text-orange-200",s),...o,children:a})}},Y=e=>({p(t){let{className:s,children:n,node:a,...i}=t;return(0,r.jsx)("p",{dir:"auto",style:{whiteSpace:"pre-wrap"},className:(0,l.cn)("break-words",s),...i,children:ea(n,e)})},h1(t){let{className:s,children:n,node:a,...i}=t;return(0,r.jsx)("h1",{dir:"auto",className:(0,l.cn)("break-word",s),...i,children:ea(n,e)})},h2(t){let{className:s,children:n,node:a,...i}=t;return(0,r.jsx)("h2",{dir:"auto",className:(0,l.cn)("break-words",s),...i,children:ea(n,e)})},h3(t){let{className:s,children:n,node:a,...i}=t;return(0,r.jsx)("h3",{dir:"auto",className:(0,l.cn)("break-words",s),...i,children:ea(n,e)})},h4(t){let{className:s,children:n,node:a,...i}=t;return(0,r.jsx)("h4",{dir:"auto",className:(0,l.cn)("break-words",s),...i,children:ea(n,e)})},h5(t){let{className:s,children:n,node:a,...i}=t;return(0,r.jsx)("h5",{dir:"auto",className:(0,l.cn)("break-words",s),...i,children:ea(n,e)})},h6(t){let{className:s,children:n,node:a,...i}=t;return(0,r.jsx)("h6",{dir:"auto",className:(0,l.cn)("break-words",s),...i,children:ea(n,e)})},li(t){let{className:s,children:n,node:a,...i}=t;return(0,r.jsx)("li",{className:(0,l.cn)("break-words",s),...i,children:ea(n,e)})},pre(t){let{children:s,node:n,...a}=t;return(0,r.jsx)("div",{className:"not-prose",children:ea(s,e)})},td(t){let{children:s,node:n,...a}=t;return(0,r.jsx)("td",{style:{whiteSpace:"pre-wrap"},className:"break-words",...a,children:ea(s,e)})},th(t){let{children:s,node:n,...a}=t;return(0,r.jsx)("th",{className:"break-words",...a,children:ea(s,e)})}}),Q=n.memo(e=>{let{sender:t,webSearchResults:s,xposts:a,children:l,isNested:i,hideCitations:o,matchedWords:u=G}=e,x=(0,n.useMemo)(()=>(function(e){let{codeBlocks:t,processedContent:s}=v(e),{latexBlockExpressions:r,processedContent:n}=w(s);return y({content:n,latexBlockExpressions:r,codeBlocks:t})})(l),[l]),h=(0,n.useMemo)(()=>{let e=c().mapValues(c().keyBy(s,"url"),e=>(0,r.jsx)(m.j2,{webSearchResult:e})),t=c().mapValues(c().keyBy(a,e=>"https://x.com/".concat(e.username,"/status/").concat(e.postId)),e=>(0,r.jsx)(m.If,{xPost:e}));return{...e,...t}},[s,a]),g=(0,n.useMemo)(()=>(null==u?void 0:u.length)?Y(u):{},[u]),b=(0,U.gK)(d.Z("setSidePanelContent")),j=(0,n.useMemo)(()=>({a(e){var t,s,n;let{className:a,children:l,node:i,...c}=e,d=new URL(null===(s=window)||void 0===s?void 0:null===(t=s.location)||void 0===t?void 0:t.href);try{d=new URL(null!==(n=c.href)&&void 0!==n?n:"")}catch(e){return null}let m=".".concat(d.pathname.toLowerCase().split(".").pop()),x=c.href&&h[c.href];return!o&&x?x:p.includes(d.hostname)&&f.some(e=>e===m)?(0,r.jsx)("a",{...c,target:"_blank",rel:"noopener noreferrer",onClick:e=>{e.preventDefault(),c.href&&b({type:"rawAsset",data:{fileMetadataId:c.href,fileMimeType:m,fileName:c.href,fileUri:c.href,parsedFileUri:c.href,createTime:new Date().toISOString(),fileSource:"SELF_UPLOAD_FILE_SOURCE",thirdPartyFileId:"",thirdPartyFileMimeType:""}})},children:ea(l,u)}):(0,r.jsx)("a",{...c,target:"_blank",rel:"noopener noreferrer",children:ea(l,u)})}}),[h,u]);return(0,r.jsx)(q.Provider,{value:{isNested:!!i,sender:t},children:(0,r.jsx)(B,{remarkPlugins:[K,[A.Z,{singleTilde:!1}],[Z.Z,{singleDollarTextMath:!1}],V],rehypePlugins:[[F.Z,{throwOnError:!1,strict:!1}],W],components:{...H,...g,...j},children:x})})}),J={...H,p(e){let{className:t,children:s,node:n,...a}=e;return(0,r.jsx)("p",{dir:"auto",style:{whiteSpace:"pre-wrap"},className:(0,l.cn)("break-words",t),...a,children:X(s)})},h1(e){let{className:t,children:s,node:n,...a}=e;return(0,r.jsx)("h1",{dir:"auto",className:(0,l.cn)("break-word",t),...a,children:X(s)})},h2(e){let{className:t,children:s,node:n,...a}=e;return(0,r.jsx)("h2",{dir:"auto",className:(0,l.cn)("break-words",t),...a,children:X(s)})},h3(e){let{className:t,children:s,node:n,...a}=e;return(0,r.jsx)("h3",{dir:"auto",className:(0,l.cn)("break-words",t),...a,children:X(s)})},h4(e){let{className:t,children:s,node:n,...a}=e;return(0,r.jsx)("h4",{dir:"auto",className:(0,l.cn)("break-words",t),...a,children:X(s)})},h5(e){let{className:t,children:s,node:n,...a}=e;return(0,r.jsx)("h5",{dir:"auto",className:(0,l.cn)("break-words",t),...a,children:X(s)})},h6(e){let{className:t,children:s,node:n,...a}=e;return(0,r.jsx)("h6",{dir:"auto",className:(0,l.cn)("break-words",t),...a,children:X(s)})},li(e){let{className:t,children:s,node:n,...a}=e;return(0,r.jsx)("li",{className:(0,l.cn)("break-words",t),...a,children:X(s)})},pre(e){let{children:t,node:s,...n}=e;return(0,r.jsx)("div",{className:"not-prose",children:X(t)})}},ee=e=>{let{sender:t,webSearchResults:s,xposts:l,hideCitations:i,children:o}=e,d=o.trim().startsWith("```"),u=(0,b.N)(o,20),x=function(e,t){let s=n.useRef(),r=n.useRef(!1),l=e;if(t&&r.current){let t=a(e);t>-1&&(l=e.substring(0,t))}return n.useEffect(()=>{t&&(r.current=!0,s.current&&clearTimeout(s.current),s.current=window.setTimeout(()=>{r.current=!1},2e3))},[t,l]),l}(o,!0),h="human"===t?o:d?u:x,p=(0,n.useMemo)(()=>{let e=c().mapValues(c().keyBy(s,"url"),e=>(0,r.jsx)(m.j2,{webSearchResult:e})),t=c().mapValues(c().keyBy(l,e=>"https://x.com/".concat(e.username,"/status/").concat(e.postId)),e=>(0,r.jsx)(m.If,{xPost:e}));return{...e,...t}},[s,l]),f=(0,n.useMemo)(()=>({a(e){let{className:t,children:s,node:n,...a}=e,l=a.href&&p[a.href];return!i&&l?l:(0,r.jsx)("a",{...a,target:"_blank",rel:"noopener noreferrer",children:s})}}),[p]);return(0,r.jsx)(B,{remarkPlugins:[K,[A.Z,{singleTilde:!1}],[Z.Z,{singleDollarTextMath:!1}],V],rehypePlugins:[[F.Z,{throwOnError:!1,strict:!1}],W],components:{...J,...f},children:h})};ee.displayName="StreamingChatMarkdownChunk";let et=n.memo(ee),es=e=>{let{sender:t,webSearchResults:s,xposts:a,children:l,isNested:i,hideCitations:o}=e,c=(0,n.useMemo)(()=>(function(e){let{codeBlocks:t,processedContent:s}=v(e),{latexBlockExpressions:r,processedContent:n}=w(s);return n.split(/\n\n+/).map(e=>y({content:e,latexBlockExpressions:r,codeBlocks:t}))})(l),[l]),d=(0,n.useMemo)(()=>c.slice(0,-1).join("\n\n"),[c]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Q,{sender:t,webSearchResults:s,xposts:a,children:d,hideCitations:o,isNested:!!i}),c.length>0&&(0,r.jsx)(q.Provider,{value:{isNested:!!i,sender:t},children:(0,r.jsx)(et,{sender:t,webSearchResults:s,xposts:a,hideCitations:o,children:c[c.length-1]})})]})};es.displayName="StreamingChatMarkdown";let er=n.memo(es),en=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t||0===t.length||"string"!=typeof e)return e;let s=t.map(e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|"),n=RegExp("(".concat(s,")"),"gi"),a=e.split(n);return 1===a.length?e:a.map((e,t)=>t%2==1?(0,r.jsx)("span",{className:"bg-orange-200 text-primary dark:bg-orange-600 rounded-sm px-0.5 font-semibold",children:e},t):e)},ea=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t&&0!==t.length?n.Children.map(e,e=>"string"==typeof e?en(e,t):e):e}},82095:function(e,t,s){s.d(t,{Y:function(){return d}});var r=s(2899),n=s(4710),a=s(34116),l=s(4694),i=s(70702),o=s(99182),c=s(69492);function d(e){var t;let{runCodeResult:s,isRunningCode:d,className:u}=e,{t:m}=(0,i.$G)("base"),x=m("code-execution.run-error","Unable to run code at the moment"),h=(0,l.useCallback)(()=>{!function(e){let t=c.gK.getState();t.conversationId&&t.sendResponse({message:e,parentResponseId:t.lastMessageId,conversationId:t.conversationId,fileAttachmentIds:[],webpageUrls:[],setOpimisticUserResponse:!0,setUserResponse:!0}).catch(()=>{})}(m("code-execution.fix-error-prompt","Fix the runtime error: ")+"\n"+(null==s?void 0:s.stderr))},[s]),[p,f]=(0,l.useState)();return(0,r.jsxs)("div",{className:"".concat((s||d)&&u," flex flex-col gap-2"),children:[((null==s?void 0:s.stdout)||d)&&(0,r.jsx)("div",{className:"text-sm rounded-xl !font-mono bg-orange-300/10 text-orange-400 dark:bg-orange-300/10 dark:text-orange-300 p-[16px] py-[8px] min-h-[44px] flex flex-col justify-center",children:d?(0,r.jsx)(n.S,{state:"RUNNING"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("pre",{className:"whitespace-pre-wrap",children:null==s?void 0:s.stdout}),(0,r.jsx)("div",{className:"flex flex-row flex-wrap gap-4",children:Object.entries(null!==(t=null==s?void 0:s.outputFiles)&&void 0!==t?t:{}).map((e,t)=>{let[s,n]=e;return s.endsWith(".png")||s.endsWith(".jpg")||s.endsWith(".jpeg")||s.endsWith(".gif")||s.endsWith(".webp")?(0,r.jsx)("div",{className:"w-fit",children:(0,r.jsx)("img",{className:"max-w-full h-auto cursor-pointer",src:n,alt:s,onClick:()=>f(t)},s)}):null})})]})}),((null==s?void 0:s.stderr)||s&&!s.success)&&(0,r.jsxs)("div",{className:"text-sm rounded-xl !font-mono bg-red-300/10 dark:bg-red-300/10 p-[16px] py-[8px] min-h-[44px]",children:[(null==s?void 0:s.stderr)?(0,r.jsx)(a.zx,{variant:"outline",size:"sm",onClick:h,className:"flex mt-1 mb-2 -ms-1 flex-shrink hover:bg-surface-l4-hover dark:hover:bg-surface-l1 text-fg-primary",children:m("code-execution.fix-error","Ask Grok to fix")}):null,(0,r.jsx)("pre",{className:"whitespace-pre-wrap text-red-600 dark:text-red-300",children:(null==s?void 0:s.stderr)||x})]}),(null==s?void 0:s.outputFiles)&&Object.keys(s.outputFiles).length>0&&(0,r.jsx)(o.O,{response:{message:""},imgs:Object.values(s.outputFiles).map(e=>({url:e,key:e})),clickedIndex:null!=p?p:null,clearClickedIndex:()=>{f(null)}})]})}},28116:function(e,t,s){s.d(t,{u:function(){return n}});var r=s(59998);let n=e=>{let t=e;-1===t.indexOf("</xaiArtifact>")?t+="</xaiArtifact>":t=t.substring(0,t.indexOf("</xaiArtifact>")+14);let s=t.indexOf(">")+1,n=t.lastIndexOf("<"),a=t.substring(0,s)+t.substring(n),l=t.substring(s,n),i=new r.Fq({ignoreAttributes:!1,alwaysCreateTextNode:!0,attributeNamePrefix:"xai_"}),o="",c="",d="",u="",m="";try{let e=i.parse(a).xaiArtifact;o=null==e?void 0:e.xai_artifact_id,c=null==e?void 0:e.xai_artifact_version_id,d=null==e?void 0:e.xai_title,u=null==e?void 0:e.xai_language,m=null==e?void 0:e.xai_contentType}catch(e){}return{title:d,id:o,versionId:c,language:u,contentType:m,content:l.trim()}}},99182:function(e,t,s){s.d(t,{O:function(){return I}});var r=s(2899),n=s(34116),a=s(72242),l=s(98450),i=s(39493),o=s(4694),c=s(70702);let d=o.createContext(null);function u(){let e=o.useContext(d);if(!e)throw Error("useCarousel must be used within a <Carousel />");return e}let m=o.forwardRef((e,t)=>{let{orientation:s="horizontal",opts:n,setApi:l,plugins:c,className:u,children:m,...x}=e,[h,p]=(0,i.Z)({...n,axis:"horizontal"===s?"x":"y"},c),[f,g]=o.useState(!1),[b,v]=o.useState(!1),j=o.useCallback(e=>{e&&(g(e.canScrollPrev()),v(e.canScrollNext()))},[]),w=o.useCallback(()=>{null==p||p.scrollPrev()},[p]),y=o.useCallback(()=>{null==p||p.scrollNext()},[p]),N=o.useCallback(e=>{"ArrowLeft"===e.key?(e.preventDefault(),w()):"ArrowRight"===e.key&&(e.preventDefault(),y())},[w,y]);return o.useEffect(()=>{p&&l&&l(p)},[p,l]),o.useEffect(()=>{if(p)return j(p),p.on("reInit",j),p.on("select",j),()=>{null==p||p.off("select",j)}},[p,j]),(0,r.jsx)(d.Provider,{value:{carouselRef:h,api:p,opts:n,orientation:s||((null==n?void 0:n.axis)==="y"?"vertical":"horizontal"),scrollPrev:w,scrollNext:y,canScrollPrev:f,canScrollNext:b},children:(0,r.jsx)("div",{ref:t,onKeyDownCapture:N,className:(0,a.cn)("relative",u),role:"region","aria-roledescription":"carousel",...x,children:m})})});m.displayName="Carousel";let x=o.forwardRef((e,t)=>{let{className:s,...n}=e,{carouselRef:l,orientation:i}=u();return(0,r.jsx)("div",{ref:l,className:"overflow-hidden max-w-[100vw]",children:(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex max-w-100","horizontal"===i?"-ml-4":"-mt-4 flex-col",s),...n})})});x.displayName="CarouselContent";let h=o.forwardRef((e,t)=>{let{className:s,...n}=e,{orientation:l}=u();return(0,r.jsx)("div",{ref:t,role:"group","aria-roledescription":"slide",className:(0,a.cn)("min-w-0 shrink-0 grow-0 basis-full","horizontal"===l?"pl-4":"pt-4",s),...n})});h.displayName="CarouselItem",o.forwardRef((e,t)=>{let{className:s,variant:i="outline",size:o="icon",...d}=e,{orientation:m,scrollPrev:x,canScrollPrev:h}=u(),{t:p}=(0,c.$G)("base");return(0,r.jsxs)(n.zx,{ref:t,variant:i,size:o,className:(0,a.cn)("absolute  h-8 w-8 rounded-full","horizontal"===m?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",s),disabled:!h,onClick:x,...d,children:[(0,r.jsx)(l.Y4O,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:p("Previous slide","Previous slide")})]})}).displayName="CarouselPrevious",o.forwardRef((e,t)=>{let{className:s,variant:i="outline",size:o="icon",...d}=e,{orientation:m,scrollNext:x,canScrollNext:h}=u(),{t:p}=(0,c.$G)("base");return(0,r.jsxs)(n.zx,{ref:t,variant:i,size:o,className:(0,a.cn)("absolute h-8 w-8 rounded-full","horizontal"===m?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",s),disabled:!h,onClick:x,...d,children:[(0,r.jsx)(l.LZ3,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:p("Next slide","Next slide")})]})}).displayName="CarouselNext";let p=e=>{let{children:t,...s}=e;return(0,r.jsx)("button",{type:"button",tabIndex:-1,...s,children:t})};var f=s(40955),g=s(89194),b=s(74542),v=s(29072),j=s(74239),w=s(66753),y=s(41916),N=s(66218),k=s(6565),C=s(84444),S=s(45414);let I=e=>{var t;let{clickedIndex:s,clearClickedIndex:l,response:i,imgs:d}=e,{t:u}=(0,c.$G)("chat"),I=(0,o.useRef)(),[z,R]=(0,o.useState)(),E=void 0!==z&&null!==(t=d[z])&&void 0!==t?t:null,{client:P}=(0,j.useStatsigClient)();(0,o.useEffect)(()=>{null!==s&&(l(),R(s),setTimeout(()=>{var e;null===(e=I.current)||void 0===e||e.scrollTo(s,!0)}))},[s]);let _=e=>{(0,g.G)(e.url,e.key.split("/").pop()).catch((0,b.n4)("image-viewer:handleDownloadImage"))},T=(0,o.useCallback)(()=>{var e;if(!d)return;let t=((z||0)-1)%d.length;return null===(e=I.current)||void 0===e||e.scrollTo(t),t},[d,z]),O=(0,o.useCallback)(e=>{var t;null===(t=I.current)||void 0===t||t.scrollTo(e)},[I]),M=(0,o.useCallback)(()=>{var e;if(!d)return;let t=((z||0)+1)%d.length;return null===(e=I.current)||void 0===e||e.scrollTo(t),t},[d,z]);return(0,o.useEffect)(()=>{if(null==z)return;let e=e=>{switch(e.key){case"ArrowLeft":T();break;case"ArrowRight":M();break;case"Escape":R(void 0)}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[T,M]),(0,r.jsx)(f.Vq,{open:!!E,onOpenChange:e=>e?void 0:R(void 0),children:(0,r.jsxs)(f.cZ,{className:(0,a.cn)("bg-transparent h-full w-full","!scale-100 !-translate-x-1/2 !-translate-y-1/2"),children:[(0,r.jsx)(f.$N,{hidden:!0}),(0,r.jsx)("div",{className:"flex flex-col items-center justify-center w-full h-full",onClick:()=>R(void 0),children:d&&d.length>1?(0,r.jsxs)(m,{setApi:e=>{null==e||e.on("select",e=>{R(e.selectedScrollSnap())}),I.current=e},opts:{duration:20,loop:!0},children:[(0,r.jsx)(x,{children:d.map(e=>{let{key:t,url:s,isModerated:n}=e;return(0,r.jsx)(h,{children:(0,r.jsx)("div",{className:"flex flex-row justify-center md:w-lvw",children:n?(0,r.jsxs)("div",{className:"flex flex-col gap-4 justify-center items-center h-[768px]",children:[(0,r.jsx)(w.Z,{size:60,className:"opacity-20"}),u("Image not available","Image not available")]}):(0,r.jsx)("img",{alt:i.message||"Image generated by Grok",src:s,className:"w-[94vw] lg:w-fit max-h-[calc(100vh-10rem)] max-w-5xl xl:max-w-6xl shadow cursor-pointer rounded-xl"})})},t)})}),(0,r.jsx)("div",{className:"mx-auto w-max mt-1.5 dark",children:d.map((e,t)=>(0,r.jsx)(p,{onClick:e=>{e.stopPropagation(),O(t)},className:(0,a.cn)("border border-secondary h-3 w-3 mx-1 rounded-full",{"bg-primary border-primary":t===z})},t))})]}):(0,r.jsx)("img",{alt:i.message||"Image generated by Grok",src:(null==E?void 0:E.url)||"",className:"w-[94vw] lg:w-fit max-h-[calc(100vh-10rem)] max-w-5xl xl:max-w-6xl shadow cursor-pointer rounded-xl"})}),(0,r.jsx)("div",{className:"absolute flex-col justify-between hidden lg:flex end-3 inset-y-3 dark",children:(0,r.jsx)(n.zx,{variant:"ghost",size:"iconXl",onClick:e=>{e.stopPropagation(),R(void 0)},children:(0,r.jsx)(y.Z,{className:"size-5"})})}),d&&d.length>1&&(0,r.jsx)("div",{className:"absolute hidden lg:block start-3 top-1/2 dark",children:(0,r.jsx)(n.zx,{variant:"ghost",size:"iconXl",onClick:e=>{e.stopPropagation(),T()},children:(0,r.jsx)(N.Z,{className:"size-5"})})}),d&&d.length>1&&(0,r.jsx)("div",{className:"absolute hidden lg:block end-3 top-1/2 dark",children:(0,r.jsx)(n.zx,{variant:"ghost",size:"iconXl",onClick:e=>{e.stopPropagation(),M()},children:(0,r.jsx)(k.Z,{className:"size-5"})})}),(0,r.jsx)("div",{className:"absolute flex justify-center bottom-3 inset-x-3",children:(0,r.jsxs)("div",{className:"bg-popover p-1.5 rounded-xl flex flex-row gap-1.5 items-center shadow-xl",children:[(0,r.jsxs)(n.zx,{variant:"ghost",size:"sm",onClick:e=>{e.stopPropagation(),(null==E?void 0:E.url)&&(_(E),P.logEvent("save_image",E.url,{responseId:i.responseId||"",conversationId:i.conversationId||"",location:"image-viewer"}))},children:[(0,r.jsx)(C.Z,{className:"w-4"}),u("download image","Save")]}),(0,r.jsxs)(n.zx,{variant:"ghost",size:"sm",onClick:e=>{e.stopPropagation(),(null==E?void 0:E.url)&&((0,v.G)(E.url,u("Copied image link to clipboard!","Copied image link to clipboard!")),P.logEvent("copy_image",null==E?void 0:E.url,{responseId:i.responseId||"",conversationId:i.conversationId||"",location:"image-viewer"}))},children:[(0,r.jsx)(S.Z,{className:"w-4"}),u("copy url for image","Copy link")]})]})})]})})}},81556:function(e,t,s){s.d(t,{sZ:function(){return y},Fg:function(){return b},j2:function(){return f},jW:function(){return w},If:function(){return v}});var r=s(2899),n=s(69492),a=s(73848),l=s(72242),i=s(45414),o=s(56672),c=s(4694),d=s(70702),u=s(76270),m=s(80973);let x=m.fC,h=m.xz,p=c.forwardRef((e,t)=>{let{className:s,align:n="center",sideOffset:a=4,...i}=e;return(0,r.jsx)(m.VY,{ref:t,align:n,sideOffset:a,className:(0,l.cn)("z-50 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...i})});function f(e){let{webSearchResult:t}=e;return(0,r.jsxs)(x,{children:[(0,r.jsx)(h,{asChild:!0,children:(0,r.jsx)(g,{webSearchResult:t,className:"hover:opacity-100 transition-opacity"})}),(0,r.jsx)(p,{side:"top",className:"max-w-sm text-base bg-popover text-primary rounded-2xl not-prose p-0",children:(0,r.jsx)(b,{webSearchResult:t,className:"hover:bg-transparent"})})]})}p.displayName=m.VY.displayName;let g=c.forwardRef((e,t)=>{let{webSearchResult:s,isClickable:n=!0,className:a,...o}=e,[d,u]=(0,c.useState)(!1),m=(0,l.cn)("inline-flex align-text-bottom items-center justify-center select-none","my-0 rounded-md","bg-important border border-card-border",n?"opacity-75 hover:opacity-100":"opacity-100 ml-1.5",a),x=d?(0,r.jsx)(i.Z,{className:"size-3 m-[3px]"}):(0,r.jsx)("img",{className:"size-[18px] m-0 rounded-md",src:s.favicon,alt:"",onError:()=>u(!0)});return n?(0,r.jsx)("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",className:"focus:outline-none focus-visible:outline-none focus-visible:bg:input ml-1.5 rounded-md",...o,ref:t,children:(0,r.jsx)("div",{className:m,children:x})}):(0,r.jsx)("div",{className:m,...o,ref:t,children:x})});function b(e){let{webSearchResult:t,className:s}=e;return(0,r.jsx)("a",{href:t.url,className:(0,l.cn)("block text-base hover:bg-card-hover rounded-xl focus:outline-none focus-within:outline-none focus-visible:ring-1 focus-visible:ring-ring",s),target:"_blank",rel:"noopener noreferrer",children:(0,r.jsxs)("div",{className:"flex flex-col gap-1 px-4 py-3 max-w-full",children:[(0,r.jsx)("span",{className:"text-sm font-semibold",children:t.title}),(0,r.jsx)("p",{className:"text-sm line-clamp-3",children:t.preview}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(g,{webSearchResult:t,className:"ml-0",isClickable:!1}),(0,r.jsx)("span",{className:"text-xs text-secondary truncate flex-1",children:(0,a.b)(t.url)})]})]})})}function v(e){let{xPost:t}=e;return(0,r.jsxs)(x,{children:[(0,r.jsx)(h,{asChild:!0,children:(0,r.jsx)(j,{xPost:t})}),(0,r.jsx)(p,{side:"top",className:"max-w-sm text-base bg-popover text-primary rounded-2xl not-prose p-0",children:(0,r.jsx)(w,{xPost:t,className:"hover:bg-transparent"})})]})}let j=c.forwardRef((e,t)=>{let{xPost:s,isClickable:n=!0,className:a,...i}=e,o=(0,l.cn)("inline-flex align-text-bottom select-none","my-0 rounded-full","bg-important border border-card-border",n?"opacity-75 hover:opacity-100":"opacity-100 ml-1.5",a),c=(0,r.jsx)("img",{className:"size-[18px] m-0 rounded-full",src:s.profileImageUrl,alt:""});return n?(0,r.jsx)("a",{href:"https://x.com/".concat(s.username,"/status/").concat(s.postId),target:"_blank",rel:"noopener noreferrer",ref:t,className:"focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring ring-offset-1 ml-1.5 rounded-full",...i,children:(0,r.jsx)("div",{className:o,children:c})}):(0,r.jsx)("div",{className:o,...i,ref:t,children:c})});function w(e){let{xPost:t,className:s}=e,n=(0,c.useMemo)(()=>new Date(t.createTime),[t.createTime]),a="https://x.com/".concat(t.username,"/status/").concat(t.postId);return(0,r.jsxs)("a",{href:a,className:(0,l.cn)("block px-4 py-3 hover:bg-card-hover rounded-xl group w-full",s),target:"_blank",rel:"noopener noreferrer",children:[(0,r.jsxs)("div",{className:"flex flex-row items-center gap-3 w-full min-w-0",children:[(0,r.jsx)("img",{className:(0,l.cn)("inline-flex align-text-bottom size-10 rounded-full","bg-important border border-card-border"),src:t.profileImageUrl,alt:"".concat(t.name,"'s profile")}),(0,r.jsxs)("div",{className:"flex flex-col overflow-hidden flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex gap-1 items-center min-w-0",children:[(0,r.jsx)("div",{className:"flex gap-1 items-center flex-1 min-w-0",children:(0,r.jsx)("span",{className:"text-sm text-primary truncate font-medium min-w-0",children:t.name})}),(0,r.jsx)(u.G,{className:"text-sm whitespace-nowrap shrink-0",date:n,noTooltip:!0})]}),(0,r.jsxs)("span",{className:"text-sm text-secondary truncate",children:["@",t.username]})]})]}),(0,r.jsx)("p",{className:"text-primary text-sm mt-2 line-clamp-3",children:t.text})]})}function y(e){let{webSearchResults:t,xPosts:s,browsedUrls:a}=e,{t:i}=(0,d.$G)("base"),u=(0,n.gK)(o.Z("sidePanelContent")),m=(0,n.gK)(o.Z("setSidePanelContent")),x=(0,c.useMemo)(()=>{if((null==u?void 0:u.type)!=="xPosts")return!1;let e=u.data.map(e=>e.citationId);return s.every((t,s)=>t.citationId===e[s])&&s.length===e.length},[u,s]),h=(0,c.useCallback)(()=>{if(x){m(void 0);return}m({type:"xPosts",data:s})},[x,s]),p=(0,c.useMemo)(()=>{if((null==u?void 0:u.type)!=="webSearchResults")return!1;let e=u.data.webSearchResults.map(e=>e.url);return t.every((t,s)=>t.url===e[s])&&t.length===e.length},[u,t]),f=(0,c.useCallback)(()=>{if(p){m(void 0);return}m({type:"webSearchResults",data:{webSearchResults:t,browsedUrls:a}})},[p,t,a]);return 0!==t.length||0!==s.length||(null==a?void 0:a.length)?(0,r.jsxs)("div",{className:"flex -ml-1 text-sm gap-2 mb-3",children:[s.length>0&&(0,r.jsxs)("div",{className:(0,l.cn)("flex flex-row items-center pr-4 py-1","rounded-full cursor-pointer","bg-foreground border border-card-border","hover:bg-card-hover hover:border-card-border-focus"),onClick:h,children:[s.slice(0,3).map((e,t)=>(0,r.jsx)("div",{style:{zIndex:3-t},children:(0,r.jsx)(j,{xPost:e,isClickable:!1,className:(0,l.cn)("flex bg-popover border border-background","z-".concat(3-t),t>0&&"-ml-2")})},t)),(0,r.jsx)("div",{className:"truncate ml-2",children:i("xPostsLabel",{count:s.length,defaultValue_one:"{{count}} \uD835\uDD4F post",defaultValue_other:"{{count}} \uD835\uDD4F posts"})})]}),t.length>0&&(0,r.jsxs)("div",{className:(0,l.cn)("flex flex-row items-center pr-4 py-1","rounded-full cursor-pointer bg-foreground","bg-foreground border border-card-border","hover:bg-card-hover hover:border-card-border-focus"),onClick:f,children:[t.slice(0,3).map((e,t)=>(0,r.jsx)("div",{style:{zIndex:3-t},children:(0,r.jsx)(g,{webSearchResult:e,isClickable:!1,className:(0,l.cn)("flex bg-popover overflow-hidden border border-background","z-".concat(3-t),t>0&&"-ml-2")})},t)),(0,r.jsx)("div",{className:"truncate ml-2",children:i("webPages",{defaultValue_one:"one web page",defaultValue_other:"{{count}} web pages",count:t.length+((null==a?void 0:a.length)||0)})})]})]}):null}},76270:function(e,t,s){s.d(t,{G:function(){return d}});var r=s(2899),n=s(94408),a=s(72242),l=s(62720),i=s(4690),o=s(46283),c=s(39220);function d(e){let{date:t,className:s,noTooltip:d=!1}=e,{compact:u,full:m}=function(e){let t=new Date,s=(0,l.X)(t,e),r=(0,i.A)(t,e),n=(0,o.o)(t,e);return{compact:s<1?"<1m":r<1?"".concat(s,"m"):r<24?"".concat(r,"h"):n>=1?(0,c.WU)(e,"MMM d, yyyy"):(0,c.WU)(e,"MMM d"),full:(0,c.WU)(e,"h:mm a \xb7 MMM d, yyyy")}}(t);return d?(0,r.jsx)("span",{className:(0,a.cn)("text-secondary",s),children:u}):(0,r.jsxs)(n.u,{children:[(0,r.jsx)(n.aJ,{asChild:!0,children:(0,r.jsx)("span",{className:(0,a.cn)("hover:underline cursor-default text-secondary",s),children:u})}),(0,r.jsx)(n._v,{className:"bg-popover text-primary",children:m})]})}},4710:function(e,t,s){s.d(t,{S:function(){return c}});var r=s(2899),n=s(47500),a=s(73069),l=s(3667),i=s(70702);let o={SEARCHING:(0,r.jsx)(i.cC,{i18nKey:"loading.searching.label",defaults:"Searching",ns:"loading"}),RUNNING:(0,r.jsx)(i.cC,{i18nKey:"loading.running.label",defaults:"Running",ns:"loading"}),[n.qw6.ProgressReportCategoryAttachmentsPreprocessing]:(0,r.jsx)(i.cC,{i18nKey:"loading.reading-attachments.label",defaults:"Reading attachments",ns:"loading"}),[n.qw6.ProgressReportCategoryHistoryAttachmentsPreprocessing]:(0,r.jsx)(i.cC,{i18nKey:"loading.rereading-past-attachments.label",defaults:"Re-reading past attachments",ns:"loading"}),[n.qw6.ProgressReportCategoryWebpageAttachmentsPreprocessing]:(0,r.jsx)(i.cC,{i18nKey:"loading.reading-webpages.label",defaults:"Reading webpages",ns:"loading"}),[n.qw6.ProgressReportCategoryHistoryWebpageAttachmentsPreprocessing]:(0,r.jsx)(i.cC,{i18nKey:"loading.rereading-past-webpages.label",defaults:"Re-reading past webpages",ns:"loading"})};function c(e){let{state:t}=e;return(0,r.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,r.jsxs)("svg",{className:"text-secondary",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsxs)("rect",{x:"5",y:"16",width:"2",height:"2",rx:"2",fill:"currentColor",children:[(0,r.jsx)("animate",{attributeName:"x",dur:"1360ms",values:"6;10;10;16;16",keyTimes:"0;0.25;0.5;0.75;1",repeatCount:"indefinite",keySplines:"0 0.8 0.8 1"}),(0,r.jsx)("animate",{attributeName:"y",dur:"1360ms",values:"16;5;5;16;16",keyTimes:"0;0.25;0.5;0.75;1",repeatCount:"indefinite",keySplines:"0 0.8 0.8 1"}),(0,r.jsx)("animate",{attributeName:"height",dur:"680ms",values:"2;4;4;2;2",keyTimes:"0;0.25;0.5;0.75;1",repeatCount:"indefinite",keySplines:"0 0.8 0.8 1"}),(0,r.jsx)("animate",{attributeName:"width",dur:"680ms",values:"2;4;4;2;2",keyTimes:"0;0.25;0.5;0.75;1",repeatCount:"indefinite",keySplines:"0 0.8 0.8 1"})]}),(0,r.jsxs)("rect",{x:"11",y:"6",width:"2",height:"2",rx:"2",fill:"currentColor",children:[(0,r.jsx)("animate",{attributeName:"x",dur:"1360ms",values:"11;16;16;6;6",keyTimes:"0;0.25;0.5;0.75;1",repeatCount:"indefinite",keySplines:"0 0.8 0.8 1"}),(0,r.jsx)("animate",{attributeName:"y",dur:"1360ms",values:"7;15;15;16;16",keyTimes:"0;0.25;0.5;0.75;1",repeatCount:"indefinite",keySplines:"0 0.8 0.8 1"}),(0,r.jsx)("animate",{attributeName:"height",dur:"680ms",values:"2;4;4;2;2",keyTimes:"0;0.25;0.5;0.75;1",repeatCount:"indefinite",keySplines:"0 0.8 0.8 1"}),(0,r.jsx)("animate",{attributeName:"width",dur:"680ms",values:"2;4;4;2;2",keyTimes:"0;0.25;0.5;0.75;1",repeatCount:"indefinite",keySplines:"0 0.8 0.8 1"})]}),(0,r.jsxs)("rect",{x:"17",y:"16",width:"2",height:"2",rx:"2",fill:"currentColor",children:[(0,r.jsx)("animate",{attributeName:"x",dur:"1360ms",values:"16;4;4;11;11",keyTimes:"0;0.25;0.5;0.75;1",repeatCount:"indefinite",keySplines:"0 0.8 0.8 1; 0 0.8 0.8 1; 0 0.8 0.8 1"}),(0,r.jsx)("animate",{attributeName:"y",dur:"1360ms",values:"16;15;15;7;7",keyTimes:"0;0.25;0.5;0.75;1",repeatCount:"indefinite",keySplines:"0 0.8 0.8 1; 0 0.8 0.8 1; 0 0.8 0.8 1"}),(0,r.jsx)("animate",{attributeName:"height",dur:"680ms",values:"2;4;4;2;2",keyTimes:"0;0.25;0.5;0.75;1",repeatCount:"indefinite",keySplines:"0 0.8 0.8 1"}),(0,r.jsx)("animate",{attributeName:"width",dur:"680ms",values:"2;4;4;2;2",keyTimes:"0;0.25;0.5;0.75;1",repeatCount:"indefinite",keySplines:"0 0.8 0.8 1"})]})]}),(0,r.jsx)(a.M,{children:t&&t!==n.qw6.ProgressReportCategoryUnknown&&o[t]&&(0,r.jsx)(l.E.div,{initial:{width:0},animate:{width:"auto"},exit:{width:0},transition:{duration:.15},className:"overflow-hidden",children:(0,r.jsxs)("p",{className:"my-0 text-secondary text-base inline-block whitespace-nowrap",children:[o[t],"..."]})})})]})}},59578:function(e,t,s){s.d(t,{y:function(){return u}});var r=s(26777),n=s(46913);let a=(0,s(11194).U)(e=>({codeExecutionResultsByCodeSource:{},getCodeExecutionResult:e=>a.getState().codeExecutionResultsByCodeSource[e],setCodeExecutionResult:(t,s)=>{e(e=>({codeExecutionResultsByCodeSource:{...e.codeExecutionResultsByCodeSource,[t]:s}}))}}));var l=s(4694),i=s(81211);RegExp("\\bfopen\\s*\\(\\s*[^)]+\\)|\\bopen\\s*\\(\\s*[^)]+\\)|\\bstd::ifstream\\s*\\(\\s*[^)]+\\)|\\bifstream\\s*\\(\\s*[^)]+\\)|\\bstd::ofstream\\s*\\(\\s*[^)]+\\)|\\bofstream\\s*\\(\\s*[^)]+\\)|\\bstd::fstream\\s*\\(\\s*[^)]+\\)|\\bfstream\\s*\\(\\s*[^)]+\\)|\\w+\\s*\\.\\s*open\\s*\\(\\s*[^)]+\\)"),RegExp("\\bgetchar\\s*\\(\\s*\\)|\\bfgetc\\s*\\(\\s*stdin\\s*\\)|\\bgetc\\s*\\(\\s*stdin\\s*\\)|\\bfgets\\s*\\(\\s*[^,]+,\\s*[^,]+,\\s*stdin\\s*\\)|\\bscanf\\s*\\(|\\bfscanf\\s*\\(\\s*stdin\\s*,|\\bfread\\s*\\(\\s*[^,]+,\\s*[^,]+,\\s*[^,]+,\\s*stdin\\s*\\)|\\bstd::cin\\s*>>|\\bcin\\s*>>|\\bstd::cin\\s*\\.\\s*get\\s*\\(|\\bcin\\s*\\.\\s*get\\s*\\(|\\bstd::cin\\s*\\.\\s*getline\\s*\\(|\\bcin\\s*\\.\\s*getline\\s*\\(|\\bstd::getline\\s*\\(\\s*std::cin\\s*,|\\bgetline\\s*\\(\\s*cin\\s*,|\\bstd::cin\\s*\\.\\s*read\\s*\\(|\\bcin\\s*\\.\\s*read\\s*\\(");let o=["cpp","c++","c","x-c++src","text/x-c++src","text/cpp","text/c++","text/c","text/x-c","text/x-c++"],c=["javascript","typescript","bash","python","x-python","text/javascript","text/typescript","text/bash","text/x-python","text/python",...o],d={};function u(e,t){let{user:s}=(0,r.kP)(),{getCodeExecutionResult:u,setCodeExecutionResult:m}=a(),x=(0,i.g)().ENABLE_CODE_EXECUTION&&!!s,[h,p]=(0,l.useState)(!1),f=(0,l.useRef)(null),g=u(e);return[(0,l.useCallback)(()=>{var s,r;e&&t&&x&&!g&&(null===(s=f.current)||void 0===s||s.abort(),f.current=new AbortController,p(!0),n.xU.chatRunCode({body:{code:e,language:t}},{signal:null===(r=f.current)||void 0===r?void 0:r.signal}).then(t=>{m(e,{stdout:t.stdout||"",stderr:t.stderr||"",outputFiles:t.outputFiles||d,timestamp:Date.now(),success:!!t.success}),p(!1)}).catch(()=>{p(!1)}))},[g,x,e,t]),g,h,(0,l.useCallback)(()=>x&&(o.includes(t.toLowerCase())?!!e.includes("int main("):c.includes(t.toLowerCase())),[x,t,e])]}},71636:function(e,t,s){s.d(t,{N:function(){return n}});var r=s(4694);function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],[n,a]=(0,r.useState)(e);return(0,r.useEffect)(()=>{let s=setTimeout(()=>{a(e)},t);return()=>{clearTimeout(s)}},[e,t,...s]),n}},89194:function(e,t,s){s.d(t,{G:function(){return r}});async function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"grok-image.png";if(e)return fetch(e,{credentials:"include"}).then(e=>e.blob()).then(e=>{let s=window.URL.createObjectURL(e),r=document.createElement("a");r.href=s,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r)})}},29072:function(e,t,s){s.d(t,{G:function(){return n}});var r=s(75361);function n(e,t){navigator.clipboard.writeText(e).then(()=>r.Am.success(t)).catch(e=>r.Am.error(e.message))}}}]);