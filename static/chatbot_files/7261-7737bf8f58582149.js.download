!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="632a7a73-507d-477d-839b-f7b5914ed3c4",e._sentryDebugIdIdentifier="sentry-dbid-632a7a73-507d-477d-839b-f7b5914ed3c4")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7261],{34573:function(){},86585:function(){},54600:function(e,t,n){"use strict";n.d(t,{Ox:function(){return o},it:function(){return i},oO:function(){return s},wt:function(){return a}}),n(58568);var r=n(14308),o=(0,r.$)("e2dfeaccaaac4d402b87523bd21bebfc63f33cd0"),s=(0,r.$)("3a1c1189bd5998352a51f7ed8eb617e80190f8b9"),i=(0,r.$)("a26aa3cf85520b2365c498f893bd4499cdb00cb8"),a=(0,r.$)("69488d6166bfda07e76cccd2b2ee20f1142f1d83");(0,r.$)("b3ce203802902b0346b07ea24585d17c18e53a68"),(0,r.$)("eb6de9efcf601d1cfb68e91b82136e30e826815b"),(0,r.$)("9ad0e54a8be6e9fb1ebccaafe469b7725907d1c2")},87005:function(e,t,n){"use strict";let r;n.d(t,{SessionStoreProvider:function(){return g},mU:function(){return r},useSession:function(){return p}});var o=n(2899),s=n(33901),i=n(15149),a=n(53952),u=n(4694),d=n(55299),c=n(11194),l=n(2167);let f=(0,u.createContext)(void 0),g=e=>{let{initialData:t,children:n}=e;(0,u.useEffect)(()=>(0,i.Tv)(t),[t]);let s=(0,u.useRef)();return s.current||(s.current=h(t),r=s.current),(0,o.jsx)(f.Provider,{value:s.current,children:n})},h=e=>(0,d.M)()(t=>({user:null==e?void 0:e.user,countryCode:null==e?void 0:e.countryCode,subscriptions:null==e?void 0:e.subscriptions,updateUser:e=>{t(t=>({...t||{},user:{...t.user||{},...e}})),a.av({id:e.userId,email:e.email})},clearUser:()=>t(e=>({...e||{},user:void 0})),refreshSession:async()=>(0,l.G)().then(e=>{t(e)}),anonUser:null==e?void 0:e.anonUser,refreshAnonUser:async(e,n)=>(0,s.h)({privateKey:n,anonUserId:e}).then(n=>{t(t=>({...t||{},anonUser:{anonUserId:e,expirationDate:n.challengeExpirationDate}})),a.av({id:e,isAnon:!0})})})),p=()=>{let e=(0,u.useContext)(f);if(!e)throw Error("useSession must be used within SessionStoreProvider");return(0,c.o)(e)}},2167:function(e,t,n){"use strict";n.d(t,{G:function(){return r}}),n(58568);var r=(0,n(14308).$)("2100bb8a0e3ee86ea140528989b4b442fdc9205e")},34116:function(e,t,n){"use strict";n.d(t,{dc:function(){return d},g$:function(){return l},zx:function(){return c}});var r=n(2899),o=n(11761),s=n(48038),i=n(4694),a=n(72242),u=n(94408);let d=(0,s.j)(["inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium leading-[normal] cursor-pointer","focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:opacity-60 disabled:cursor-default","transition-colors duration-100","[&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg]:-mx-0.5","select-none"],{variants:{variant:{primary:"bg-button-primary text-background hover:bg-button-primary-hover",secondary:"bg-button-secondary text-primary hover:bg-button-secondary-hover",accent:"bg-sunset/90 text-ivory hover:bg-sunset",card:"ring-1 ring-inset ring-toggle-border bg-card hover:bg-card-hover text-primary",ghost:"text-fg-primary hover:bg-button-ghost-hover",ghostSecondary:"text-secondary hover:text-primary hover:bg-button-ghost-hover disabled:hover:text-secondary disabled:hover:bg-inherit",text:"text-primary bg-transparent hover:underline",outline:"bg-surface-base border border-border-l2 text-fg-secondary hover:text-fg-primary hover:bg-button-ghost-hover",sticky:"text-secondary hover:text-primary disabled:hover:text-secondary disabled:hover:bg-inherit bg-surface-l1 dark:bg-surface-l2 dark:hover:bg-surface-l4 hover:bg-surface-l4-hover",none:"",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",link:"text-primary underline-offset-4 hover:underline"},size:{md:"h-9 rounded-xl px-3.5 py-2 text-base",icon:"h-10 w-10 rounded-xl",none:"",lg:"h-10 rounded-3xl px-4",pill:"h-9 rounded-full px-3.5 py-2",nav:"h-8 rounded-xl px-3.5 text-sm font-medium",iconSm:"h-6 w-6 rounded-full",iconMd:"h-8 w-8 rounded-full",iconLg:"h-9 w-9 rounded-full",iconXl:"h-10 w-10 rounded-full",default:"h-9 px-4 py-2 rounded-lg",sm:"h-8 rounded-lg px-3 text-xs",noPadding:"h-9 rounded-lg"}},defaultVariants:{variant:"primary",size:"default"}}),c=i.forwardRef((e,t)=>{let{className:n,variant:s,size:i,asChild:u=!1,...c}=e,l=u?o.g7:"button";return(0,r.jsx)(l,{className:(0,a.cn)(d({variant:s,size:i,className:n})),ref:t,type:"button",...c})});c.displayName="Button";let l=i.forwardRef((e,t)=>{let{className:n,variant:s,size:i,asChild:c=!1,tooltipProps:l={},tooltipContent:f,tooltipContentProps:g={},tooltipAsChild:h,stayOpenOnClick:p=!1,...b}=e,v=c?o.g7:"button";return(0,r.jsxs)(u.u,{delayDuration:300,...l,children:[(0,r.jsx)(u.aJ,{asChild:!0,onClick:p?e=>e.preventDefault():void 0,children:(0,r.jsx)(v,{className:(0,a.cn)(d({variant:s,size:i,className:n})),ref:t,type:"button",...b})}),f?(0,r.jsx)(u._v,{onPointerDownOutside:p?e=>e.preventDefault():void 0,...g,children:f}):null]})});l.displayName="ButtonWithTooltip"},94408:function(e,t,n){"use strict";n.d(t,{_v:function(){return c},aJ:function(){return d},pn:function(){return a},u:function(){return u},vq:function(){return l}});var r=n(2899),o=n(88250),s=n(4694),i=n(72242);let a=o.zt,u=o.fC,d=o.xz,c=s.forwardRef((e,t)=>{let{className:n,sideOffset:s=4,...a}=e;return(0,r.jsx)(o.h_,{children:(0,r.jsx)(o.VY,{ref:t,collisionPadding:{top:16,right:16,bottom:16,left:16},sideOffset:s,className:(0,i.cn)("z-50 overflow-hidden rounded-md bg-popover shadow-sm dark:shadow-none px-3 py-1.5 text-xs text-popover-foreground pointer-events-none animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...a})})});c.displayName=o.VY.displayName;let l=(0,i.cn)("z-50 overflow-hidden rounded-2xl bg-primary text-primary-foreground","shadow-sm dark:shadow-none text-xs animate-in fade-in-0 zoom-in-95","data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95","data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 p-3");c.displayName=o.VY.displayName},33901:function(e,t,n){"use strict";n.d(t,{b:function(){return u},h:function(){return d}});var r=n(54600),o=n(67206),s=n(38438),i=n.n(s),a=n(98437).lW;async function u(){let e;let t=e=>{let t=new Uint8Array(e);return crypto.getRandomValues(t),t};do e=t(32);while(!i().privateKeyVerify(e));let n=i().publicKeyCreate(e),s=function(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return window.btoa(t)}(e),{anonUserId:a}=await (0,o.Yf)(r.oO)({userPublicKey:n});return{privateKey:s,anonUserId:a}}async function d(e){let{privateKey:t,anonUserId:n}=e,{challenge:s,challengeExpirationTime:u}=await (0,o.Yf)(r.it)({anonUserId:n}),d=new Uint8Array(s),c=await crypto.subtle.digest("SHA-256",d),l=new Uint8Array(a.from(t,"base64")),{signature:f}=i().ecdsaSign(new Uint8Array(c),l),g=a.from(d).toString("base64"),h=a.from(f).toString("base64");return await (0,r.wt)({anonUserId:n,challenge:g,signature:h}),{challenge:g,signature:h,challengeExpirationDate:u?function(e){if(!e)return new Date;let t=new Date(0);return"string"==typeof e.seconds?t.setUTCSeconds(parseInt(e.seconds,10)):"number"==typeof e.seconds&&t.setUTCSeconds(e.seconds),t}(u):new Date(0)}}},15149:function(e,t,n){"use strict";n.d(t,{Tv:function(){return i},X6:function(){return u},kG:function(){return a}});var r=n(53952);let o=["/rest/app-chat/conversations/new","/rest/app-chat/conversations/soft/{conversationId}","/rest/app-chat/conversations/{conversationId}/model-responses","/rest/app-chat/conversations/{conversationId}/responses","/rest/app-chat/conversations/{conversationId}/share","/rest/app-chat/conversations/{conversationId}/title","/rest/app-chat/conversations/{conversationId}/user-responses","/rest/app-chat/file-metadata/{fileMetadataId}","/rest/app-chat/image-generations","/rest/app-chat/share_links/{shareLinkId}","/rest/app-chat/share_links/{shareLinkId}/clone","/rest/app-chat/upload-file","/rest/app-chat/conversations","/rest/app-chat/conversations/{conversationId}"];function s(e,t){let n;try{n=new URL(t).pathname}catch(e){n=t}let r=(n=function(e){for(e.startsWith("/")||(e="/"+e);e.endsWith("/");)e=e.substring(0,e.length-1);return e}(n)).slice(15);for(let t of o){let n=t.slice(15);if(function(e,t){let n=e.split("/"),r=t.split("/");if(n.length!=r.length)return!1;for(let e=0;e<n.length;e++){let t=n[e],o=r[e];if(o.startsWith("{")&&o.endsWith("}")){if(""===t)return!1}else if(t!=o)return!1}return!0}(r,n))return{source:"api",endpoint:"".concat(e," ").concat(n)}}return{}}function i(e){e&&(e.user?(0,r.av)({id:e.user.userId,email:e.user.email}):e.anonUser&&(0,r.av)({id:e.anonUser.anonUserId,isAnon:!0}))}async function a(e,t){let n=await fetch(e,t);if(n.status>=400){var o;let i=(null==t?void 0:t.method)||"GET",u="string"==typeof e?e:e instanceof URL?e.href:e.url,d=await n.clone().text().then(e=>{try{return JSON.parse(e)}catch(t){return e}}),c=s(i,u),l=Error(JSON.stringify((null===(o=d.error)||void 0===o?void 0:o.message)||d.error||d));l.name="HttpError ".concat(n.status),Error.captureStackTrace(l,a),(0,r.Tb)(l,{tags:c,extra:{status:n.status,statusText:n.statusText,url:u,method:i,reqBody:null==t?void 0:t.body,body:d}})}return n}function u(e,t){if(e&&e.error){var n;let o=null!==(n=null==t?void 0:t.url)&&void 0!==n?n:"unknown",i=s("POST",o),a=Error(e.error.message||e.error);a.name="StreamError",Error.captureStackTrace(a,u),(0,r.Tb)(a,{tags:i,extra:{...e.error,url:o}})}return e}},72242:function(e,t,n){"use strict";n.d(t,{cn:function(){return s}});var r=n(62035),o=n(20377);function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.m6)((0,r.W)(t))}},49519:function(e,t,n){"use strict";n.d(t,{Gv:function(){return r},Pw:function(){return o}});let r="production",o="production"==r},62312:function(e,t,n){"use strict";var r=n(8599),o=n(4694),s=n(49519);t.default=e=>{let t=(0,r.useLogger)(e),n=(0,o.useMemo)(()=>({environment:s.Gv,route:window.location.href,isClientSide:!0,origin:window.location.origin}),[]);return s.Pw?{flush:t.flush,debug:(e,r)=>t.debug(e,r?{...n,...r}:r),info:(e,r)=>t.info(e,r?{...n,...r}:r),warn:(e,r)=>t.warn(e,r?{...n,...r}:r),error:(e,r)=>t.error(e,r?{...n,...r}:r),logHttpRequest:(e,r,o,s)=>t.logHttpRequest(e,r,o,s?{...n,...s}:s)}:{debug:console.debug,info:console.info,warn:console.warn,error:console.error,flush:()=>{},logHttpRequest:console.info}}},67206:function(e,t,n){"use strict";n.d(t,{pJ:function(){return h},Rq:function(){return r.HydrationBoundary},Su:function(){return o.S},aH:function(){return s.QueryClientProvider},EU:function(){return g},Yf:function(){return l.Y},e$:function(){return f},sk:function(){return i.sk},NS:function(){return u.default},Db:function(){return d.default},So:function(){return a.useMutationState},aM:function(){return c.default},NL:function(){return s.useQueryClient}});var r=n(38198),o=n(84893),s=n(41695),i=n(6971),a=n(5273),u=n(34164),d=n(46458),c=n(34646),l=n(85236);n(8599),n(49519),n(62312),n(2899),n(4694);var f=e=>{if(!e)return{message:"Something went wrong."};try{if("object"==typeof e&&"message"in e&&"string"==typeof e.message){let t=e.message,n=e.message.indexOf(" [WKE=");-1!==n&&(t=e.message.substring(0,n));let r="Error: ",o=t.indexOf(r);-1!==o&&(t=t.substring(r.length));let s=t.match(/^\d+\s[A-Z_]+:\s([\s\S]+)/);if(s&&s.length>=1){let e={};if(s[1].split("\n").forEach(t=>{let n=t.split(":").map(e=>e.trim());if(2===n.length){let t=n[0],r=n[1];e[t]||(e[t]=[]),e[t].push(r)}}),Object.keys(e).length>0)return{message:"Please fix the errors before continuing.",details:e};return{message:s[1]}}}}catch(e){}return"string"==typeof e?{message:e}:{message:"Something went wrong."}};n(23254),n(77673);let g="stream:did-not-close",h="grok:content-moderated"},85236:function(e,t,n){"use strict";n.d(t,{Y:function(){return i}});var r=n(23254);function o(e){let t=/\[WKE=([a-zA-Z0-9\-_]+):([a-zA-Z0-9\-_]+)(:([a-zA-Z0-9\-_]+))?]/g,n=[],r=null;do null!==(r=t.exec(e))&&n.push({error:"".concat(r[1],":").concat(r[2]),field:r[4]});while(null!==r);return n}var s=n(77673);function i(e){return async t=>{let n=await e(t);if(n&&"object"==typeof n&&"error"in n){var i;throw new s.o({status:(0,r.d)(n.error),wellKnownErrors:(i=n.error)&&"object"==typeof i&&"message"in i&&"string"==typeof i.message?o(i.message):"string"==typeof i?o(i):[],message:n.error})}return n}}},23254:function(e,t,n){"use strict";var r,o;n.d(t,{d:function(){return s}}),(o=r||(r={})).Ok="0 OK",o.Cancelled="1 CANCELLED",o.Unknown="2 UNKNOWN",o.InvalidArgument="3 INVALID_ARGUMENT",o.DeadlineExceeded="4 DEADLINE_EXCEEDED",o.NotFound="5 NOT_FOUND",o.AlreadyExists="6 ALREADY_EXISTS",o.PermissionDenied="7 PERMISSION_DENIED",o.ResourceExhausted="8 RESOURCE_EXHAUSTED",o.FailedPrecondition="9 FAILED_PRECONDITION",o.Aborted="10 ABORTED",o.OutOfRange="11 OUT_OF_RANGE",o.Unimplemented="12 UNIMPLEMENTED",o.Internal="13 INTERNAL",o.Unavailable="14 UNAVAILABLE",o.DataLoss="15 DATA_LOSS",o.Unauthenticated="16 UNAUTHENTICATED";let s=e=>{if(e&&"object"==typeof e&&"message"in e&&"string"==typeof e.message){for(let t in r)if(isNaN(Number(t))){let n=r[t];if(e.message.includes(n))return n}}}},77673:function(e,t,n){"use strict";n.d(t,{o:function(){return r}});class r extends Error{constructor({status:e,wellKnownErrors:t,message:n}){super(n),this.status=e,this.wellKnownErrors=t}}},34164:function(e,t,n){"use strict";var r=n(82887),o=n(85236);t.default=(e,t)=>(e.queryFn&&"function"==typeof e.queryFn&&(e.queryFn=(0,o.Y)(e.queryFn)),(0,r.useInfiniteQuery)(e,t))},46458:function(e,t,n){"use strict";var r=n(91487),o=n(85236);t.default=(e,t)=>(e.mutationFn&&(e.mutationFn=(0,o.Y)(e.mutationFn)),(0,r.useMutation)(e,t))},34646:function(e,t,n){"use strict";var r=n(72467),o=n(85236);t.default=(e,t)=>(e.queryFn&&"function"==typeof e.queryFn&&(e.queryFn=(0,o.Y)(e.queryFn)),(0,r.useQuery)(e,t))}}]);